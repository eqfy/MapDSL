DEFINITIONS
        FUNCTION createBlock(nwPosition, blockSize) {
                VARIABLE nePosition = (nwPosition.x + blockSize, nwPosition.y);
                VARIABLE sePosition = (nePosition.x, nePosition.y - blockSize);
                VARIABLE swPosition = (nwPosition.x, nwPosition.y - blockSize);

                CREATE street from nwPosition to nePosition;
                CREATE street from nePosition to sePosition;
                CREATE street from sePosition to swPosition;
                CREATE street from swPosition to nwPosition;
        }
        FUNCTION createTrafficLight(position) {
                CREATE traffic light at position;
        }

        VARIABLE centerPosition = (0,0);
        VARIABLE defaultBlockSize = 5;
END_DEFINITIONS

OUTPUT
        createBlock(centerPosition, defaultBlockSize);
        createBlock((defaultBlockSize, 0), defaultBlockSize);

        CREATE highway from (-100,0) to (0,0);

        createTrafficLight(centerPosition);
        CREATE stop sign at (0 + defaultBlockSize, 0);
        CREATE bus stop at (-50, 0);

        VARIABLE eastStreetLightPosition = (centerPosition.x, centerPosition.y - 5);

        LOOP 3 TIMES
            createTrafficLight(eastStreetLightPosition);
            eastStreetLightPosition = (eastStreetLightPosition.x + defaultBlockSize, eastStreetLightPosition.y);
        END_LOOP
END_OUTPUT
